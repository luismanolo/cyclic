import{al as R,r as b,i as P,o as w,am as h,an as D,Y as T,h as z,A as re,ao as Q,ap as je,d as Ce,f as A,b as Z,q as de,K as F,G as X,aq as le,t as W,I as Te,S as Be,ar as Ae,H as Re}from"./main-56570f3b.js";import{_ as Pe}from"./_plugin-vue_export-helper-c27b6911.js";const se=(e,t)=>{for(const n of Object.keys(t))e.on(n,t[n])},we=e=>{for(const t of Object.keys(e)){const n=e[t];n&&E(n.cancel)&&n.cancel()}},Ie=e=>!e||typeof e.charAt!="function"?e:e.charAt(0).toUpperCase()+e.slice(1),E=e=>typeof e=="function",I=(e,t,n)=>{for(const o in n){const r="set"+Ie(o);e[r]?re(()=>n[o],(a,l)=>{e[r](a,l)}):t[r]&&re(()=>n[o],a=>{t[r](a)})}},B=(e,t,n={})=>{const o={...n};for(const r in e){const a=t[r],l=e[r];a&&(a&&a.custom===!0||l!==void 0&&(o[r]=l))}return o},U=e=>{const t={},n={};for(const o in e)if(o.startsWith("on")&&!o.startsWith("onUpdate")&&o!=="onReady"){const r=o.slice(2).toLocaleLowerCase();t[r]=e[o]}else n[o]=e[o];return{listeners:t,attrs:n}},Ne=async e=>{const t=await Promise.all([h(()=>import("./marker-icon-2x-e148f0f7.js"),[]),h(()=>import("./marker-icon-d6994ad0.js"),[]),h(()=>import("./marker-shadow-a7f70f89.js"),[])]);delete e.Default.prototype._getIconUrl,e.Default.mergeOptions({iconRetinaUrl:t[0].default,iconUrl:t[1].default,shadowUrl:t[2].default})},H=e=>{const t=b((...o)=>console.warn(`Method ${e} has been invoked without being replaced`)),n=(...o)=>t.value(...o);return n.wrapped=t,A(e,n),n},K=(e,t)=>e.wrapped.value=t,L=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||globalThis,_=e=>{const t=P(e);if(t===void 0)throw new Error(`Attempt to inject ${e.description} before it was provided.`);return t},N=Symbol("useGlobalLeaflet"),V=Symbol("addLayer"),ee=Symbol("removeLayer"),ce=Symbol("registerControl"),ye=Symbol("registerLayerControl"),Ee=Symbol("canSetParentHtml"),De=Symbol("setParentHtml"),ze=Symbol("setIcon"),me=Symbol("bindPopup"),Me=Symbol("bindTooltip"),fe=Symbol("unbindPopup"),xe=Symbol("unbindTooltip"),G={options:{type:Object,default:()=>({}),custom:!0}},J=e=>({options:e.options,methods:{}}),k={...G,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},ve=(e,t,n)=>{const o=_(V),r=_(ee),{options:a,methods:l}=J(e),s=B(e,k,a),p=()=>o({leafletObject:t.value}),c=()=>r({leafletObject:t.value}),u={...l,setAttribution(y){c(),t.value.options.attribution=y,e.visible&&p()},setName(){c(),e.visible&&p()},setLayerType(){c(),e.visible&&p()},setVisible(y){t.value&&(y?p():c())},bindPopup(y){if(!t.value||!E(t.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}t.value.bindPopup(y)},bindTooltip(y){if(!t.value||!E(t.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}t.value.bindTooltip(y)},unbindTooltip(){t.value&&(E(t.value.closeTooltip)&&t.value.closeTooltip(),E(t.value.unbindTooltip)&&t.value.unbindTooltip())},unbindPopup(){t.value&&(E(t.value.closePopup)&&t.value.closePopup(),E(t.value.unbindPopup)&&t.value.unbindPopup())},updateVisibleProp(y){n.emit("update:visible",y)}};return A(me,u.bindPopup),A(Me,u.bindTooltip),A(fe,u.unbindPopup),A(xe,u.unbindTooltip),Q(()=>{u.unbindPopup(),u.unbindTooltip(),c()}),{options:s,methods:u}},Ue=(e,t)=>{if(e&&t.default)return z("div",{style:{display:"none"}},t.default())},Ve={...k,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},be={...Ve,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},ke={...be,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}};({...ke});const $={...G,position:{type:String}},ge=(e,t)=>{const{options:n,methods:o}=J(e),r=B(e,$,n),a={...o,setPosition(l){t.value&&t.value.setPosition(l)}};return Q(()=>{t.value&&t.value.remove()}),{options:r,methods:a}},$e=e=>e.default?z("div",{ref:"root"},e.default()):null;R({name:"LControl",props:{...$,disableClickPropagation:{type:Boolean,custom:!0,default:!0},disableScrollPropagation:{type:Boolean,custom:!0,default:!1}},setup(e,t){const n=b(),o=b(),r=P(N),a=_(ce),{options:l,methods:s}=ge(e,n);return w(async()=>{const{Control:p,DomEvent:c}=r?L.L:await h(()=>import("./leaflet-src.esm-9c358b30.js"),[]),u=p.extend({onAdd(){return o.value}});n.value=D(new u(l)),I(s,n.value,e),a({leafletObject:n.value}),e.disableClickPropagation&&o.value&&c.disableClickPropagation(o.value),e.disableScrollPropagation&&o.value&&c.disableScrollPropagation(o.value),T(()=>t.emit("ready",n.value))}),{root:o,leafletObject:n}},render(){return $e(this.$slots)}});({...$});const he={...$,collapsed:{type:Boolean,default:void 0},autoZIndex:{type:Boolean,default:void 0},hideSingleBase:{type:Boolean,default:void 0},sortLayers:{type:Boolean,default:void 0},sortFunction:{type:Function}},qe=(e,t)=>{const{options:n}=ge(e,t);return{options:B(e,he,n),methods:{addLayer(o){o.layerType==="base"?t.value.addBaseLayer(o.leafletObject,o.name):o.layerType==="overlay"&&t.value.addOverlay(o.leafletObject,o.name)},removeLayer(o){t.value.removeLayer(o.leafletObject)}}}},Ge=R({name:"LControlLayers",props:he,setup(e,t){const n=b(),o=P(N),r=_(ye),{options:a,methods:l}=qe(e,n);return w(async()=>{const{control:s}=o?L.L:await h(()=>import("./leaflet-src.esm-9c358b30.js"),[]);n.value=D(s.layers(void 0,void 0,a)),I(l,n.value,e),r({...e,...l,leafletObject:n.value}),T(()=>t.emit("ready",n.value))}),{leafletObject:n}},render(){return null}});({...$});({...$});const te={...k},Je=(e,t,n)=>{const{options:o,methods:r}=ve(e,t,n),a=B(e,te,o),l={...r,addLayer(s){t.value.addLayer(s.leafletObject)},removeLayer(s){t.value.removeLayer(s.leafletObject)}};return A(V,l.addLayer),A(ee,l.removeLayer),{options:a,methods:l}};({...te});const _e={...te,geojson:{type:[Object,Array],custom:!0},optionsStyle:{type:Function,custom:!0}},Ze=(e,t,n)=>{const{options:o,methods:r}=Je(e,t,n),a=B(e,_e,o);Object.prototype.hasOwnProperty.call(e,"optionsStyle")&&(a.style=e.optionsStyle);const l={...r,setGeojson(s){t.value.clearLayers(),t.value.addData(s)},setOptionsStyle(s){t.value.setStyle(s)},getGeoJSONData(){return t.value.toGeoJSON()},getBounds(){return t.value.getBounds()}};return{options:a,methods:l}},Fe=R({props:_e,setup(e,t){const n=b(),o=b(!1),r=P(N),a=_(V),{methods:l,options:s}=Ze(e,n,t);return w(async()=>{const{geoJSON:p}=r?L.L:await h(()=>import("./leaflet-src.esm-9c358b30.js"),[]);n.value=D(p(e.geojson,s));const{listeners:c}=U(t.attrs);n.value.on(c),I(l,n.value,e),a({...e,...l,leafletObject:n.value}),o.value=!0,T(()=>t.emit("ready",n.value))}),{ready:o,leafletObject:n}},render(){return Ue(this.ready,this.$slots)}}),oe={...k,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number},className:{type:String}},Oe=(e,t,n)=>{const{options:o,methods:r}=ve(e,t,n),a=B(e,oe,o),l={...r,setTileComponent(){var s;(s=t.value)==null||s.redraw()}};return Q(()=>{t.value.off()}),{options:a,methods:l}},We=(e,t,n,o)=>e.extend({initialize(r){this.tileComponents={},this.on("tileunload",this._unloadTile),n.setOptions(this,r)},createTile(r){const a=this._tileCoordsToKey(r);this.tileComponents[a]=t.create("div");const l=z({setup:o,props:["coords"]},{coords:r});return je(l,this.tileComponents[a]),this.tileComponents[a]},_unloadTile(r){const a=this._tileCoordsToKey(r.coords);this.tileComponents[a]&&(this.tileComponents[a].innerHTML="",this.tileComponents[a]=void 0)}});R({props:{...oe,childRender:{type:Function,required:!0}},setup(e,t){const n=b(),o=b(null),r=b(!1),a=P(N),l=_(V),{options:s,methods:p}=Oe(e,n,t);return w(async()=>{const{GridLayer:c,DomUtil:u,Util:y}=a?L.L:await h(()=>import("./leaflet-src.esm-9c358b30.js"),[]),O=We(c,u,y,e.childRender);n.value=D(new O(s));const{listeners:d}=U(t.attrs);n.value.on(d),I(p,n.value,e),l({...e,...p,leafletObject:n.value}),r.value=!0,T(()=>t.emit("ready",n.value))}),{root:o,ready:r,leafletObject:n}},render(){return this.ready?z("div",{style:{display:"none"},ref:"root"}):null}});const ie={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}};R({name:"LIcon",props:{...ie,...G},setup(e,t){const n=b(),o=P(N),r=_(Ee),a=_(De),l=_(ze);let s,p,c,u,y;const O=(j,f,v)=>{const g=j&&j.innerHTML;if(!f){v&&y&&r()&&a(g);return}const{listeners:x}=U(t.attrs);y&&p(y,x);const{options:Y}=J(e),C=B(e,ie,Y);g&&(C.html=g),y=C.html?c(C):u(C),s(y,x),l(y)},d=()=>{T(()=>O(n.value,!0,!1))},S=()=>{T(()=>O(n.value,!1,!0))},M={setIconUrl:d,setIconRetinaUrl:d,setIconSize:d,setIconAnchor:d,setPopupAnchor:d,setTooltipAnchor:d,setShadowUrl:d,setShadowRetinaUrl:d,setShadowAnchor:d,setBgPos:d,setClassName:d,setHtml:d};return w(async()=>{const{DomEvent:j,divIcon:f,icon:v}=o?L.L:await h(()=>import("./leaflet-src.esm-9c358b30.js"),[]);s=j.on,p=j.off,c=f,u=v,I(M,{},e),new MutationObserver(S).observe(n.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),d()}),{root:n}},render(){const e=this.$slots.default?this.$slots.default():void 0;return z("div",{ref:"root"},e)}});({...k});function He(e,t,n){var o,r,a;t===void 0&&(t=50),n===void 0&&(n={});var l=(o=n.isImmediate)!=null&&o,s=(r=n.callback)!=null&&r,p=n.maxWait,c=Date.now(),u=[];function y(){if(p!==void 0){var d=Date.now()-c;if(d+t>=p)return p-d}return t}var O=function(){var d=[].slice.call(arguments),S=this;return new Promise(function(M,j){var f=l&&a===void 0;if(a!==void 0&&clearTimeout(a),a=setTimeout(function(){if(a=void 0,c=Date.now(),!l){var g=e.apply(S,d);s&&s(g),u.forEach(function(x){return(0,x.resolve)(g)}),u=[]}},y()),f){var v=e.apply(S,d);return s&&s(v),M(v)}u.push({resolve:M,reject:j})})};return O.cancel=function(d){a!==void 0&&clearTimeout(a),u.forEach(function(S){return(0,S.reject)(d)}),u=[]},O}const ue={...G,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},Ke=R({inheritAttrs:!1,emits:["ready","update:zoom","update:center","update:bounds"],props:ue,setup(e,t){const n=b(),o=Ce({ready:!1,layersToAdd:[],layersInControl:[]}),{options:r}=J(e),a=B(e,ue,r),{listeners:l,attrs:s}=U(t.attrs),p=H(V),c=H(ee),u=H(ce),y=H(ye);A(N,e.useGlobalLeaflet);const O=Z(()=>{const f={};return e.noBlockingAnimations&&(f.animate=!1),f}),d=Z(()=>{const f=O.value;return e.padding&&(f.padding=e.padding),e.paddingTopLeft&&(f.paddingTopLeft=e.paddingTopLeft),e.paddingBottomRight&&(f.paddingBottomRight=e.paddingBottomRight),f}),S={moveend:He(f=>{o.leafletRef&&(t.emit("update:zoom",o.leafletRef.getZoom()),t.emit("update:center",o.leafletRef.getCenter()),t.emit("update:bounds",o.leafletRef.getBounds()))}),overlayadd(f){const v=o.layersInControl.find(g=>g.name===f.name);v&&v.updateVisibleProp(!0)},overlayremove(f){const v=o.layersInControl.find(g=>g.name===f.name);v&&v.updateVisibleProp(!1)}};w(async()=>{e.useGlobalLeaflet&&(L.L=L.L||await h(()=>import("./leaflet-src-93bec9db.js").then(i=>i.l),["assets/leaflet-src-93bec9db.js","assets/_commonjsHelpers-725317a4.js"]));const{map:f,CRS:v,Icon:g,latLngBounds:x,latLng:Y,stamp:C}=e.useGlobalLeaflet?L.L:await h(()=>import("./leaflet-src.esm-9c358b30.js"),[]);try{a.beforeMapMount&&await a.beforeMapMount()}catch(i){console.error(`The following error occurred running the provided beforeMapMount hook ${i.message}`)}await Ne(g);const Se=typeof a.crs=="string"?v[a.crs]:a.crs;a.crs=Se||v.EPSG3857;const q={addLayer(i){i.layerType!==void 0&&(o.layerControl===void 0?o.layersToAdd.push(i):o.layersInControl.find(m=>C(m.leafletObject)===C(i.leafletObject))||(o.layerControl.addLayer(i),o.layersInControl.push(i))),i.visible!==!1&&o.leafletRef.addLayer(i.leafletObject)},removeLayer(i){i.layerType!==void 0&&(o.layerControl===void 0?o.layersToAdd=o.layersToAdd.filter(m=>m.name!==i.name):(o.layerControl.removeLayer(i.leafletObject),o.layersInControl=o.layersInControl.filter(m=>C(m.leafletObject)!==C(i.leafletObject)))),o.leafletRef.removeLayer(i.leafletObject)},registerLayerControl(i){o.layerControl=i,o.layersToAdd.forEach(m=>{o.layerControl.addLayer(m)}),o.layersToAdd=[],u(i)},registerControl(i){o.leafletRef.addControl(i.leafletObject)},setZoom(i){const m=o.leafletRef.getZoom();i!==m&&o.leafletRef.setZoom(i,O.value)},setCrs(i){const m=o.leafletRef.getBounds();o.leafletRef.options.crs=i,o.leafletRef.fitBounds(m,{animate:!1,padding:[0,0]})},fitBounds(i){o.leafletRef.fitBounds(i,d.value)},setBounds(i){if(!i)return;const m=x(i);m.isValid()&&!(o.lastSetBounds||o.leafletRef.getBounds()).equals(m,0)&&(o.lastSetBounds=m,o.leafletRef.fitBounds(m))},setCenter(i){if(i==null)return;const m=Y(i),ae=o.lastSetCenter||o.leafletRef.getCenter();(ae.lat!==m.lat||ae.lng!==m.lng)&&(o.lastSetCenter=m,o.leafletRef.panTo(m,O.value))}};K(p,q.addLayer),K(c,q.removeLayer),K(u,q.registerControl),K(y,q.registerLayerControl),o.leafletRef=D(f(n.value,a)),I(q,o.leafletRef,e),se(o.leafletRef,S),se(o.leafletRef,l),o.ready=!0,T(()=>t.emit("ready",o.leafletRef))}),de(()=>{we(S),o.leafletRef&&(o.leafletRef.off(),o.leafletRef.remove())});const M=Z(()=>o.leafletRef),j=Z(()=>o.ready);return{root:n,ready:j,leafletObject:M,attrs:s}},render({attrs:e}){return e.style||(e.style={}),e.style.width||(e.style.width="100%"),e.style.height||(e.style.height="100%"),z("div",{...e,ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}});({...k});const Ye={...be,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},pe={...Ye},Le={...G,content:{type:String,default:null}},Xe=(e,t)=>{const{options:n,methods:o}=J(e),r={...o,setContent(a){t.value&&a!==null&&a!==void 0&&t.value.setContent(a)}};return{options:n,methods:r}},Qe=e=>e.default?z("div",{ref:"root"},e.default()):null,et={...Le,latLng:{type:[Object,Array],default:()=>[]}},tt=(e,t)=>{const{options:n,methods:o}=Xe(e,t);return{options:n,methods:o}},ot=R({name:"LPopup",props:et,setup(e,t){const n=b(),o=b(null),r=P(N),a=_(me),l=_(fe),{options:s,methods:p}=tt(e,n);return w(async()=>{const{popup:c}=r?L.L:await h(()=>import("./leaflet-src.esm-9c358b30.js"),[]);n.value=D(c(s)),e.latLng!==void 0&&n.value.setLatLng(e.latLng),I(p,n.value,e);const{listeners:u}=U(t.attrs);n.value.on(u),n.value.setContent(e.content||o.value||""),a(n.value),T(()=>t.emit("ready",n.value))}),de(()=>{l()}),{root:o,leafletObject:n}},render(){return Qe(this.$slots)}});({...pe,latLngs:{...pe.latLngs}});const ne={...oe,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:e=>typeof e=="string"?!0:Array.isArray(e)?e.every(t=>typeof t=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},nt=(e,t,n)=>{const{options:o,methods:r}=Oe(e,t,n),a=B(e,ne,o),l={...r};return{options:a,methods:l}},at=R({props:ne,setup(e,t){const n=b(),o=P(N),r=_(V),{options:a,methods:l}=nt(e,n,t);return w(async()=>{const{tileLayer:s}=o?L.L:await h(()=>import("./leaflet-src.esm-9c358b30.js"),[]);n.value=D(s(e.url,a));const{listeners:p}=U(t.attrs);n.value.on(p),I(l,n.value,e),r({...e,...l,leafletObject:n.value}),T(()=>t.emit("ready",n.value))}),{leafletObject:n}},render(){return null}});({...Le});({...ne});const rt={components:{LMap:Ke,LTileLayer:at,LControlLayers:Ge,LGeoJson:Fe,LPopup:ot},data(){return{zoom:14,center:[42.5602081,-2.7601252],geojsonLayers:[]}},computed:{},async created(){const e={url:"https://raw.githubusercontent.com/iderioja/base_datos_geografica/master/municipios.json",name:"Municipios La Rioja"},n=await(await fetch(e.url)).json();this.geojsonLayers.push({json:n,name:e.name,options:{onEachFeature:this.onEachFeatureJSON,mouseover:this.mouseOverJSON}})},methods:{log(e){console.log(e)},filterFeatureJSON(){return!0},mouseOverJSON(e){e.openTooltip()},onEachFeatureJSON(e,t){console.log("Municipio"),console.log(e.properties.NOMBRE_MUNICIPIO),t.bindPopup(`${e.properties.NOMBRE_MUNICIPIO} (${e.properties.NOMBRE_PROVINCIA})`),t.bindTooltip(`${e.properties.NOMBRE_MUNICIPIO}`,{sticky:!0})}}},lt={id:"mapContainer"};function st(e,t,n,o,r,a){const l=F("l-tile-layer"),s=F("l-geo-json"),p=F("l-control-layers"),c=F("l-map");return X(),le("div",lt,[W(c,{ref:"map",onMove:t[0]||(t[0]=u=>a.log("move")),zoom:r.zoom,"onUpdate:zoom":t[1]||(t[1]=u=>r.zoom=u),center:r.center,"use-global-leaflet":!1},{default:Te(()=>[W(l,{url:"http://tile.stamen.com/watercolor/{z}/{x}/{y}.jpg","layer-type":"base",name:"Stamen Watercolor",attribution:"Map tiles by <a href='http://stamen.com'>Stamen Design</a>, under <a href='http://creativecommons.org/licenses/by/3.0'>CC BY 3.0</a>. Data by <a href='http://openstreetmap.org'>OpenStreetMap</a>, under <a href='http://creativecommons.org/licenses/by-sa/3.0'>CC BY SA</a>."}),W(l,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png","layer-type":"base",name:"OpenStreetMap"}),(X(!0),le(Be,null,Ae(r.geojsonLayers,u=>(X(),Re(s,{options:u.options,geojson:u.json,name:u.name,"layer-type":"overlay"},null,8,["options","geojson","name"]))),256)),W(p)]),_:1},8,["zoom","center"])])}const pt=Pe(rt,[["render",st]]);export{pt as default};
